<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="titulo-pagina">Daior</title>
    <!-- SweetAlert2 para notificaciones modernas -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <!-- CSS personalizado -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- Banner de oferta especial -->
    <div class="offer-banner" id="offer-banner">
        üéÅ ¬°Oferta especial! Descuentos de hasta 55% en servicios üî•.
        <button class="offer-close" onclick="cerrarBannerOferta()">
            <i class="bi bi-x"></i>
        </button>
    </div>

    <header>
        <!-- T√≠tulo din√°mico desde variable nombreTienda -->
        <h2 style="font-weight: 800;" id="header-titulo">üçÉ Daior</h2>
        <div style="display: flex; gap: 15px; align-items: center;">
            <!-- NUEVO: Icono de Wishlist -->
            <div class="wishlist-icon-container" id="wishlist-icon" onclick="abrirWishlist()" title="Lista de deseos">
                <i class="bi bi-heart"></i>
                <span id="wishlist-count">0</span>
            </div>
            
            <!-- Icono de Carrito existente -->
            <div class="cart-icon-container" id="cart-icon" onclick="toggleCart()" title="Carrito de compras">
                <i class="bi bi-cart3"></i>
                <span id="cart-count">0</span>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="filter-container">
            <!-- B√∫squeda por nombre (izquierda) -->
            <div class="filter-group busqueda">
                <label>Buscar producto:</label>
                <input type="text" id="filtro-busqueda" placeholder="Escribe el nombre del producto..." oninput="aplicarFiltros()">
            </div>
            
            <!-- Filtro por categor√≠a -->
            <div class="filter-group">
                <label>Categor√≠a:</label>
                <select id="filtro-categoria" onchange="aplicarFiltros()">
                    <option value="todos">Todos los productos</option>
                </select>
            </div>

            <!-- Filtro por precio -->
            <div class="filter-group">
                <label>Precio M√°x: $<span id="precio-valor">150</span></label>
                <input type="range" id="filtro-precio" min="0" max="150" value="150" step="5" oninput="actualizarLabelPrecio()" onchange="aplicarFiltros()">
            </div>
        </div>
        <div class="product-grid" id="catalogo"></div>
    </main>

    <!-- FOOTER ACTUALIZADO -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <!-- Nombre din√°mico desde variable nombreTienda -->
                <h3 id="footer-titulo">üçÉ Daior</h3>
                <p>Trabajando en equipo podemos lograr resultados √∫nicos...</p>
            </div>
            
            <div class="footer-section">
                <h3>üìû Contacto</h3>
                <div class="contact-info">
                    <div class="contact-item">
                        <i class="bi bi-envelope"></i>
                        <span>beatsbydaior@gmail.com</span>
                    </div>
                    <div class="contact-item">
                        <i class="bi bi-telegram"></i>
                        <a href="https://t.me/joshgtz" target="_blank" class="footer-link">
                            @joshgtz
                        </a>
                    </div>
                    <div class="contact-item">
                        <!-- NUEVO: Enlace de Instagram -->
                        <i class="bi bi-instagram"></i>
                        <a href="https://www.instagram.com/daior_" target="_blank" class="footer-link">
                            @daior_
                        </a>
                    </div>
                    <div class="contact-item">
                        <i class="bi bi-geo-alt"></i>
                        <span>Caracas, Venezuela</span>
                    </div>
                </div>
            </div>
            
            <div class="footer-section">
                <h3>‚ö° + Info</h3>
                <p>"La vida es mejor si hay balance" üí≠</p>
                <p style="margin-top: 10px;"><strong>Tiempo de entrega:</strong> 2-5 d√≠as h√°biles</p>
            </div>
        </div>
        
        <!-- NUEVO: M√©todos de pago -->
        <div class="payment-methods">
            <p>M√©todos de pago aceptados:</p>
            <div class="payment-icons">
                <div class="payment-icon paypal-icon">
                    <i class="bi bi-paypal"></i>
                </div>
                <div class="payment-icon card-icon">
                    <i class="bi bi-credit-card"></i>
                </div>
                <div class="payment-icon card-icon">
                    <i class="bi bi-credit-card-2-front"></i>
                </div>
                <div class="payment-icon card-icon">
                    <i class="bi bi-credit-card-2-back"></i>
                </div>
            </div>
            <p style="margin-top: 10px; font-size: 0.8rem;">Aceptamos PayPal y todas las tarjetas de cr√©dito/d√©bito</p>
        </div>
        
        <div class="copyright">
            <p>¬© 2026 Daior | Todos los derechos reservados</p>
            <p style="margin-top: 5px; font-size: 0.8rem;">Los precios est√°n en d√≥lares americanos (USD)</p>
        </div>
    </footer>

    <!-- Contenedor de notificaciones -->
    <div class="notificacion-container" id="notificacion-container"></div>

    <div class="overlay-bg" id="overlay" onclick="cerrarTodo()"></div>
    
    <div class="cart-sidebar" id="cart-sidebar">
        <h2><i class="bi bi-cart3"></i> Mi Carrito</h2>
        <div class="cart-items" id="cart-items"></div>
        <div style="font-size: 1.2rem; font-weight: bold; margin-top: 20px; padding-top: 10px; border-top: 2px solid #eee;">
            Total: $<span id="total-price">0.00</span>
        </div>
        <button class="btn-add" style="background: var(--color-accent); margin-top: 15px;" onclick="abrirResumen()">
            <i class="bi bi-check-circle"></i> Finalizar Pedido
        </button>
        <button class="btn-add" style="background: #95a5a6; margin-top: 10px;" onclick="vaciarCarrito()">
            <i class="bi bi-trash"></i> Vaciar Carrito
        </button>
        <button onclick="toggleCart()" style="margin-top: 10px; background: none; border: none; color:#888; cursor: pointer; padding: 10px; display: flex; align-items: center; gap: 5px;">
            <i class="bi bi-arrow-left"></i> Cerrar
        </button>
    </div>

    <!-- Modal Detalle Producto -->
<!-- Modal Detalle Producto -->
    <div class="modal-producto" id="modal-producto">
        <button class="btn-close-modal" onclick="cerrarModalProducto()">
            <i class="bi bi-x"></i>
        </button>
        <div class="modal-producto-content">
            <img id="modal-img" class="modal-producto-img" src="" alt="Producto">
            <div class="modal-producto-info">
                <div class="modal-producto-categoria" id="modal-categoria"></div>
                <h2 class="modal-producto-nombre" id="modal-nombre"></h2>
                <p class="modal-producto-descripcion" id="modal-descripcion"></p>
                <div class="modal-producto-precio" id="modal-precio"></div>
                <div class="modal-producto-actions">
                    <!-- CORRECCI√ìN: Bot√≥n de Wishlist con mismo ancho -->
                    <button class="btn-wishlist" id="modal-btn-wishlist" style="flex: 1;">
                        <i class="bi bi-heart"></i> Agregar a Favoritos
                    </button>
                    <button class="btn-add" id="modal-btn-agregar" style="flex: 1;">
                        <i class="bi bi-cart-plus"></i> Agregar al Carrito
                    </button>
                    <button class="btn-buy-now" id="modal-btn-comprar" style="flex: 1;">
                        <i class="bi bi-bag-check"></i> Comprar Ahora
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL RESUMEN CON NUEVO BOT√ìN DE DESCARGA -->
    <div class="modal-overlay" id="modal-resumen">
        <div class="modal-content">
            <h2><i class="bi bi-receipt"></i> Resumen de Pedido</h2>
            <div class="summary-box" id="resumen-lista"></div>
            <p style="color:var(--color-accent); font-weight:bold; margin-bottom: 20px; margin-top: 15px;">
                <i class="bi bi-exclamation-triangle"></i> Tome una captura de pantalla a esta ventana o descargue la orden como imagen, luego debes enviarla a nuestro Telegram para procesar el pedido.
            </p>
            <!-- NUEVO BOT√ìN para descargar recibo como PNG -->
            <button class="btn-descargar" onclick="descargarResumenPNG()">
                <i class="bi bi-download"></i> Descargar Orden
            </button>
            <br>
            <!-- Bot√≥n para Telegram (existente) -->
            <button class="btn-telegram" onclick="procesarEnvioTelegram()">
                <i class="bi bi-telegram"></i> Enviar a Telegram
            </button>
            <br>
            <button onclick="cerrarResumen()" style="background:none; border:none; text-decoration: underline; cursor:pointer; padding: 10px; display: flex; align-items: center; gap: 5px; margin: 0 auto;">
                <i class="bi bi-arrow-left"></i> Seguir comprando
            </button>
        </div>
    </div>
    <!-- Wishlist Lateral -->
    <div class="wishlist-sidebar" id="wishlist-sidebar">
        <h2><i class="bi bi-heart"></i> Mi Lista de Deseos</h2>
        <div class="wishlist-items" id="wishlist-items"></div>
        <div style="margin-top: 20px;">
            <button class="btn-add" style="background: #ff4757; margin-top: 15px; width: 100%;" onclick="vaciarWishlist()">
                <i class="bi bi-trash"></i> Vaciar Lista de Deseos
            </button>
            <button onclick="cerrarWishlist()" style="margin-top: 10px; background: none; border: none; color:#888; cursor: pointer; padding: 10px; display: flex; align-items: center; gap: 5px; width: 100%; justify-content: center;">
                <i class="bi bi-arrow-left"></i> Cerrar
            </button>
        </div>
    </div>
    <!-- SweetAlert2 para notificaciones especiales -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Biblioteca para generar la imagen PNG -->
    <script src="https://cdn.jsdelivr.net/npm/html-to-image@1.11.13/dist/html-to-image.min.js"></script>
    <!-- JavaScript personalizado -->
    <script src="app.js"></script>
</body>
</html>